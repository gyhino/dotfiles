# vim:ft=zsh

typeset -xT SUDO_PATH sudo_path
typeset -U sudo_path
sudo_path=({/usr/local,/usr,}/sbin(N-/))

typeset -gx -U path
path=( \
    ~/bin(N-/) \
    /usr/local/bin(N-/) \
    ${path} \
    )

typeset -gx -U fpath
fpath=( \
    ~/.zsh/Completion(N-/) \
    ~/.zsh/functions/*(N-/) \
    ~/.zsh/plugins/zsh-completions(N-/) \
    /usr/local/share/zsh/site-functions(N-/) \
    ${fpath} \
    )

autoload -Uz colors && colors
autoload -Uz is-at-least
autoload -Uz history-search-end


export XDG_CONFIG_HOME=${HOME}/.config
export XDG_CACHE_HOME=${HOME}/.cache

export LANGUAGE='en_US.UTF-8'
export LANG=${LANGUAGE}
export LC_ALL=${LANGUAGE}
export LC_CTYPE=${LANGUAGE}

export LESSCHARSET=utf-8
export JLESSCHARSET=japanese
export LESS='-qR'

export GREP_OPTIONS='--color=auto'
export GREP_COLOR='1;41;37'

export LSCOLORS=gxfxcxdxbxegedabagacad
if [[ -f "${HOME}/.dir_colors" ]]; then
    if which gdircolors > /dev/null; then
        eval `gdircolors -b ${HOME}/.dir_colors`
    elif which dircolors > /dev/null; then
        eval `dircolors -b ${HOME}/.dir_colors`
    fi
fi

export EDITOR=vim

export FIGNORE=${FIGNORE}:.svn:.git

export HISTFILE="${HOME}/.zhistory"
export HISTSIZE=10000
export SAVEHIST=1000000

# GOLANG
export GO111MODULE=on
export GOPATH=$HOME/go
export GOBIN=${GOPATH}/bin
path=(${GOBIN}(N-/) ${path})

# Rust
if [[ -f $HOME/.cargo/env ]]; then
    source $HOME/.cargo/env
fi

# Java
if [[ -x /usr/libexec/java_home ]]; then
    export JAVA_HOME=$(/usr/libexec/java_home)
fi

# anyenv
if type anyenv &>/dev/null; then
    # if anyenv is installed by homebrew, make the `$HOME/.anyenv` directory
    if [[ ! -d $HOME/.anyenv ]]; then
        mkdir ${HOME}/.anyenv
    fi
fi
if [[ -d $HOME/.anyenv ]]; then
    path=(${HOME}/.anyenv/bin(N-/) ${path})
    eval "$(anyenv init -)"
fi
